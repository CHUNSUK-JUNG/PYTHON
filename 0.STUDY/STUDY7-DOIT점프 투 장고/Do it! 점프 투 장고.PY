# 출처 [https://wikidocs.net/book/4223, Do it! 점프 투 장고]


# [1장 장고 개발 준비!]
# ‘시작이 반이다.’ 여러분은 이미 장고를 향해 첫걸음을 내디뎠으니 성공을 절반 이룬 셈이다. 축하한다. 이 책은 처음부터 끝까지
# 모든 내용이 이어진다. 따라서 이 책은 흐름이 중요하며 그중에서도 시작이 가장 중요하다. 이 장에서는 장고를 본격적으로 개발
# 하기 전에 준비해야 할 것을 알아보자. 장고 개발을 시작하기 전에는 무엇을 설치해야 할까? 여기서는 파이썬과 장고, 파이참 
# 에디터를 설치한다. 파이참 에디터는 장고 개발을 한결 편리하게 만들어 주는 도구이다. 모든 준비를 마치면 새로운 장고 프로젝트도
# 생성해 보자. 참고로 실습 코드가 너무 길어지면 절약과 가독성을 위해 코드 전체를 표시하지 않고 실습에 필요한 부분만
# 표시했다. 더불어 전체 코드를 참고하며 공부할 독자를 위해 각 장 도입부에 소스 보기 링크를 안내했다.
# 이 장의 목표
# - 파이썬과 장고를 설치하고 개발 환경을 준비한다.
# - 장고 프로젝트를 만들어 첫 번째 프로그램을 만든다.
# - 장고 서버를 실행하고 실행 결과를 확인한다.

# [1-05 파이참 설치하고 장고 개발 서버 실행하기]
# [완성 소스] : github.com/pahkey/djangobook/tree/1-05
# 보통 파이썬과 장고 개발에 많이 사용되는 에디터는 비주얼 스튜디오 코드와 파이참이다. 이 책에서는 파이참으로 장고 개발을
# 진행한다.
# 파이참 설치하기
# [1] 파이참 설치 파일 내려받기
# [2] 파이참 실행하기
# 파이참 인터프리터 설정하고 개발 서버 한글로 실행하기
# [1] 현재 파이썬 인터프리터 위치 확인하기
# [2] 파이썬 인터프리터 위치를 가상 환경 위치로 수정하기
# [3] 파이참에서 settings.py 파일 수정하기
# [4] 개발 서버 다시 구동하기
# 파이참 설치하기
# [1] 파이참 설치 파일 내려받기
# 파이참은 다음 주소에 접속하면 내려받을 수 있다.
# 윈도우용 파이참 설치 파일 주소: www.jetbrains.com/ko-kr/pycharm/download/#section=windows
# <Professional>과 <Community> 중 무료 버전인 <Community>를 선택하자. 파이참 설치 파일을 내려받은 후 설치를 진행하자. 
# 설치할 때 특별히 주의할 점은 없으므로 끝까지 <Next>를 선택하여 설치하면 된다.
# [2] 파이참 실행하기
# [윈도우 키]를 누르고 프로그램 목록에서 [JetBrains → PyCharm Community Edition]을 선택하면 파이참이 실행된다. 파이참을
# 처음 실행하는 독자라면 다음과 같은 설정 창이 나타날 것이다. 테마, 플러그인 등의 옵션은 기본값으로 선택하고 넘어가자. 
# 필자는 책에 담을 화면을 갈무리하고자 다음과 같이 바탕이 흰색인 Light 테마를 설정했다.
# 이어서 다음과 같은 창이 나오면 두 번째 메뉴인 <Open>을 선택하여 앞에서 우리가 생성한 장고 프로젝트인 C:/projects/mysite를
# 선택하자.
# 여기까지 문제없이 진행했다면 다음과 같이 파이참이 정상으로 실행된다.
# 처음 프로젝트를 만들면 mysite 디렉터리 안에 main.py 파일이 자동으로 생성될 수 있다. 파일이 있다면 삭제 후 실습을 진행하자.
# 파이참 인터프리터 설정하고 개발 서버 한글로 실행하기
# 파이참으로 장고 프로젝트를 불러온 후 가장 먼저 해야 할 일은 장고 프로젝트가 바라봐야 할 파이썬 인터프리터 위치를 설정하는
# 것이다.
# [1] 현재 파이썬 인터프리터 위치 확인하기
# 파이참 메뉴에서 [File → Settings]를 눌러 설정 창을 열고 [Project: mysite → Project Interpreter]를 순서대로 눌러 파이썬 
# 인터프리터 위치를 설정할 수 있는 창을 열자. 그런 다음 오른쪽 위에 보이는 Python Interpreter를 보자. 아마도 파이썬을 
# 설치한 디렉터리로 설정되어 있을 것이다.
# [2] 파이썬 인터프리터 위치를 가상 환경 위치로 수정하기
# 하지만 지금은 가상 환경을 사용하므로 파이썬 인터프리터 위치를 가상 환경 위치로 수정해 야 한다. 다음처럼
# Python Interpreter 오른쪽에 보이는 톱니바퀴 모양 아이콘을 누른 다음 <Add>를 누르자.
# 톱니바퀴 모양 아이콘이 가려져 있으므로 그림 참고 시 주의!
# 다음처럼 파이썬 인터프리터 위치를 설정할 수 있는 'Add Python Interpreter' 창이 나타난다. 여기서
# <Existing environment>를 누른 다음 Interpreter 오른쪽에 보이는 <...>을 누르자.
# 그리고 다음처럼 C:/venvs/mysite/Scripts/python.exe를 선택한 후 <OK>를 누른다.
# 나머지 창도 를 눌러 설정을 마치면 파이참이 mysite 가상 환경에 있는 파이썬 인터프리터를 인식하기 시작한다.
# [3] 파이참에서 settings.py 파일 수정하기
# 이제 파이참으로 장고를 개발할 준비가 완료되었다. 장고 개발을 맛보는 차원에서 장고의 설정값이 들어 있는 settings.py 
# 파일을 수정해 보자. 파이참에서 settings.py 파일을 열어 LANGUAGE_CODE와 TIME_ZONE 설정값을 수정하자. LANGUAGE_CODE를 
# en-us에서 ko-kr로 수정하고 TIME_ZONE을 UTC에서 Asia/Seoul로 수정했다. 언어와 시간을 한국 값으로 바꾼 것이다.
# [파일이름: C:/projects/mysite/config/settings.py]
# (... 생략 ...)
# # ---------------------------------- [edit] ---------------------------------- #
# LANGUAGE_CODE = 'ko-kr'

# TIME_ZONE = 'Asia/Seoul'
# # ---------------------------------------------------------------------------- #
# (... 생략 ...)
# [중요] 파일명과 소스코드

# 앞으로 소스코드는 항상 다음과 같은 규칙으로 표시된다. 먼저 파일이름의 전체경로를 표시하고 그 바로 아래에 소스의 내용을
# 표시한다.
# [파일이름: C:/projects/mysite/config/settings.py]
# (... 생략 ...)
# # ---------------------------------- [edit] ---------------------------------- #
# LANGUAGE_CODE = 'ko-kr'
# TIME_ZONE = 'Asia/Seoul'
# # ---------------------------------------------------------------------------- #
# (... 생략 ...)
# 소스코드에서 생략된 부분은 위와 같이 (... 생략 ...) 으로 표시한다.
# 그리고 소스코드에서 신규로 추가되거나 변경된 부분은 다음처럼 [edit] 문단으로 표시한다.
# # --------------------------------- [edit] ---------------------------------- #
# 변경되거나 추가된 부분은 여기에
# # --------------------------------------------------------------------------- #
# ※ 만약 신규로 추가된 파일인 경우는 파일의 처음과 끝이 [edit] 문단으로 감싸여 진다.
# [4] 개발 서버 다시 구동하기
# 앞의 실습을 잘 진행했다면 개발 서버가 종료된 상태일 것이다. 개발 서버를 다시 구동하자. localhost:8000으로 접속하면
# 초기 화면이 영어에서 한글로 바뀌어 있다.
# python manage.py runserver로 서버 구동!

# [1-04 장고 프로젝트 생성하기]
# 장고에는 프로젝트라는 개념이 있는데, 장고의 프로젝트는 하나의 웹 사이트라고 생각하면 된다. 즉, 장고 프로젝트를 생성하면
# 한 개의 웹 사이트를 생성하는 것과 같다. 프로젝트 안에는 여러 개의 앱이 존재한다. 이 앱들이 모여 웹 사이트를 구성한다.
# 여기서 앱이란 관리자 앱, 인증 앱 등과 같이 장고가 기본으로 제공하는 앱과 개발자가 직접 만든 앱을 칭한다.
# 장고에서 말하는 앱은 일반적으로 여러분이 알고 있는 안드로이드 앱, iOS 앱과는 성격이 다르다. 안드로이드 앱이 하나의
# 프로그램이라면, 장고의 앱은 프로젝트를 구성하는 작은 단위의 기능이다.
# 프로젝트 디렉터리 생성하기
# [1] 프로젝트 루트 디렉터리 생성하기
# [2] 프로젝트 루트 디렉터리 안에서 가상 환경에 진입하기
# [3] 장고 프로젝트를 담을 디렉터리 생성하고 이동하기
# [4] 장고 프로젝트 생성하기
# [5] 장고 프로젝트 내용물 확인하기
# 개발 서버 구동하고 웹 사이트에 접속해 보기
# [1] 개발 서버 구동하기
# [2] 개발 서버 종료하기
# mysite 가상 환경에 간단히 진입하기
# [1] mysite.cmd 배치 파일 생성하기
# [2] 배치 파일 위치를 PATH 환경 변수에 추가하기
# [3] PATH 환경 변수 확인하기
# [4] 배치 파일 실행하여 가상 환경에 진입하기
# 프로젝트 디렉터리 생성하기
# [1] 프로젝트 루트 디렉터리 생성하기
# 장고 프로젝트는 여러 개가 될 수 있으므로 프로젝트를 모아 둘 프로젝트 루트 디렉터리 생성은 필수다. 여기서는 프로젝트
# 루트 디렉터리 이름을 projects로 지었다.
# 여기서는 C 드라이브에 프로젝트를 담을 루트 디렉터리를 생성했다.
# [명령 프롬프트]
# C:\Users\pahke>cd \
# C:\>mkdir projects
# C:\>cd projects
# C:\projects>
# [2] 프로젝트 루트 디렉터리 안에서 가상 환경에 진입하기
# 프로젝트 루트 디렉터리 안에서 다음 명령어를 입력해 앞에서 만든 mysite 가상 환경에 진입한다. 가상 환경 진입 명령어가 
# 길어서 좀 불편하겠지만, 지금은 이 방법으로 가상 환경에 진입하겠다.
# 가상 환경 진입 명령어를 간단하게 만드는 팁은 이 절의 마지막에서 설명한다.
# [명령 프롬프트]
# C:\projects>C:\venvs\mysite\Scripts\activate
# (mysite) C:\projects>
# [3] 장고 프로젝트를 담을 디렉터리 생성하고 이동하기
# 장고 프로젝트를 담을 mysite 디렉터리를 생성하고 이동하자.
# [명령 프롬프트]
# (mysite) C:\projects>mkdir mysite
# (mysite) C:\projects>cd mysite
# (mysite) C:\projects\mysite>
# [4] 장고 프로젝트 생성하기
# mysite 디렉터리에서 django-admin이라는 도구로 장고 프로젝트를 생성하자. 이때 config 다음에 점 기호(.)가 있음에 주의하자.
# 점 기호는 '현재 디렉터리를 프로젝트 디렉터리로 만들라'는 의미이다.
# [명령 프롬프트]
# (mysite) C:\projects\mysite>django-admin startproject config .
# [5] 장고 프로젝트 내용물 확인하기
# 위 단계들이 완료되면 다음과 같은 구조로 디렉터리가 구성되어 있는지, 파일이 잘 생성되어 있는지 확인해 보자.
# [디렉터리 구조와 파일]
# C:\projects\mysite
# ├── config/
# │      ├─ asgi.py
# │      ├─ settings.py
# │      ├─ urls.py
# │      ├─ wsgi.py
# │      └─ __init__.py
# └── manage.py
# 개발 서버 구동하고 웹 사이트에 접속해 보기
# 이제 웹 사이트를 생성한 것과 다름없다. 개발 서버를 구동하고 웹 사이트에 접속해 보자.
# [1] 개발 서버 구동하기
# python manage.py runserver 명령을 실행하면 개발 서버가 구동된다. 맨 아랫줄에는 'Quit the server with CTRL-BREAK'이라는
# 개발 서버 종료 방법도 안내되어 있다. 개발 서버를 종료하려면 <Ctrl+C>를 누르란 뜻이다.
# [명령 프롬프트]
# (mysite) C:\projects\mysite>python manage.py runserver
# Watching for file changes with StatReloader
# Performing system checks...
# System check identified no issues (0 silenced).
# You have 18 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): 
# admin, auth, contenttypes, sessions.
# Run 'python manage.py migrate' to apply them.
# April 21, 2020 - 21:51:03
# Django version 3.1.3, using settings 'config.settings'
# Starting development server at http://127.0.0.1:8000/
# Quit the server with CTRL-BREAK.
# 개발 서버가 구동된 상태를 유지하고 웹 브라우저를 이용하여 127.0.0.1:8000에 접속해 보자. 그러면 장고가 기본으로 만든
# 웹 사이트 화면을 볼 수 있다.
# - 개발 서버는 127.0.0.1, 즉 로컬호스트localhost로 실행되므로 로컬 서버라 부르기도 한다. 필자는 개발을 위해 실행된 개발
#   서버를 '개발 서버'라 부르겠다.
# - 127.0.0.1:8000 대신 localhost:8000이라고 입력해도 같은 화면을 볼 수 있다. 127.0.0.1과 localhost는 현재 컴퓨터를 
#   가리키는 아이피 주소다.
# 아쉽게도 아직은 개발 서버 환경에서 사이트가 실행되고 있으므로 개발 서버 환경을 실행한 컴퓨터(여러분의 컴퓨터)에서만 
# 사이트에 접속할 수 있다. 즉, 아직은 다른 사람이 접속할 수 있는 상태가 아니다. 다른 사람이 접속할 수 있는 기능은 파이보를
# 멋지게 만든 후에 추가할 것이다.

# [2] 개발 서버 종료하기
# <Ctrl+C> 를 눌러 개발 서버를 종료해 보자. 개발 서버가 종료되면 localhost:8000으로 mysite에 접속할 수 없다.
# 웹 브라우저에서 새로고침을 눌러 정말 그런지 확인해 보자.
# 로컬 아이피 주소로 다른 사람이 접속할 수 없는 이유
# 앞에서 '아직은 여러분이 만든 사이트에 다른 사람이 접속할 수 없다'고 이야기했다. 왜 그럴까? 다른 사람이 여러분이 만든
# 사이트에 접속하려면 localhost나 127.0.0.1이라는 로컬 아이피 주소가 아닌 15.165.210.240과 같은 인터넷 세상 속의 아이피
# 주소 또는 pybo.kr과 같은 도메인이 필요하기 때문이다. 로컬 아이피 주소의 '로컬'은 지역이라는 뜻이며, 이는 곧 '내 PC'를
# 의미한다. 내 PC의 아이피 주소이므로 친구가 접속할 수 없다. 4장에서 인터넷 세상 속의 아이피 주소로 여러분이 만든 사이트에
# 접속하는 방법을 소개하므로 우선은 파이보 기능을 완성하는 데 집중하자.
# mysite 가상 환경에 간단히 진입하기
# mysite 가상 환경에 진입하려면 매번 명령 프롬프트를 실행하고 C:/venvs/mysite/Scripts 디렉터리로 이동하여 activate 명령을
# 수행해야 한다. 이런 일련의 과정을 한 번에 수행할 수 있는 배치 프로그램을 만들어 귀찮음을 덜어 보자.
# [1] mysite.cmd 배치 파일 생성하기
# mysite.cmd 파일을 venvs 디렉터리에 만들고 다음과 같이 작성하여 저장하자. 확장자 .cmd가 붙은 파일은 배치(batch) 파일이라
# 부르며, 명령어 입력과 실행을 한 번에 해주는 파일이라 생각하면 된다.
# [파일 이름: C:/venvs/mysite.cmd]
# @echo off
# cd c:/projects/mysite
# c:/venvs/mysite/scripts/activate
# 배치 파일의 내용은 C:/projects/mysite 디렉터리로 이동한 다음, C:/venvs/mysite/scripts/activate 명령을 수행하라는 뜻이다.
# [2] 배치 파일 위치를 PATH 환경 변수에 추가하기
# 이 배치 파일이 명령 프롬프트 어느 곳에서나 수행될 수 있도록 C:/venvs 디렉터리를 시스템의 환경 변수 PATH에 추가해야 한다. 
# 먼저 <윈도우키+R> 키를 입력하여 다음처럼 sysdm.cpl 명령을 입력한 다음 <확인>을 누르자.
# 그러면 다음과 같은 '시스템 속성' 창이 나타난다. 여기서 <고급> 탭을 선택하고 <환경 변수> 버튼을 누르자.
# 그러면 다음과 같은 '환경 변수' 창이 나타난다. 여기서 사용자 변수 중 <Path>를 선택하고 <편집> 버튼을 누르자.
# 그러면 다음과 같은 '환경 변수 편집' 창이 나타난다. 여기서 <새로 만들기> 버튼을 누르자.
# 그리고 다음 그림처럼 C:/venvs라는 디렉터리를 추가하고 <확인> 버튼을 누르자.
# 마지막으로 다음 '환경 변수' 창에서 <확인> 버튼을 누르자.
# [3] PATH 환경 변수 확인하기
# 이렇게 하면 환경 변수 PATH에 C:/venvs 디렉터리가 추가되어 mysite.cmd 명령을 어디서든 실행할 수 있다. 
# 명령 프롬프트를 다시 시작하자(그래야 변경된 환경 변수 PATH가 제대로 반영된다). 그리고 set path 명령을 실행하여 
# 변경된 환경 변수 PATH의 내용을 확인해 보자. C:/venvs라는 디렉터리가 환경 변수 PATH에 포함되어 있으면 된다.
# [명령 프롬프트]
# C:\Users\pahkey>set path
# Path=C:\Windows\system32; (... 생략 ...) ;C:\venvs
# PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC
# [4] 배치 파일 실행하여 가상 환경에 진입하기
# 이제 지금까지 만든 mysite 명령(배치 파일 이름)을 실행하여 가상 환경에 잘 진입하는지 확인해 보자. 
# 참고로 윈도우에서 확장자가 .cmd인 파일은 확장자를 빼고 입력해도 된다.
# [명령 프롬프트]
# C:\Users\pahkey> mysite
# (mysite) C:\projects\mysite>
# 맥 OS에서 가상 환경 진입하기
# 맥을 사용할 경우 mysite.cmd 대신 다음처럼 mysite.sh을 작성한다.
# [파일 이름: /Users/pahkey/venvs/mysite.sh]
# #!/bin/bash
# cd /Users/pahkey/projects/mysite
# source /Users/pahkey/venvs/mysite/bin/activate
# 그리고 맥 터미널에서 mysite.sh을 다음과 같이 수행하자.
# $ /Users/pahkey/venvs/mysite.sh

# [1-03 장고 개발 환경 준비하기]
# 이제 본격적으로 장고 개발 환경을 준비해 보자. 그전에 여러분이 알아야 할 중요한 개념이 하나 있다. 
# 바로 파이썬 가상 환경이다. 우리는 장고를 파이썬 가상 환경에 설치할 것이다.
# 파이썬 가상 환경 알아보기
# 파이썬 가상 환경 사용해 보기
# [1] 가상 환경 디렉터리 생성하기
# [2] 가상 환경 만들기
# [3] 가상 환경에 진입하기
# [4] 가상 환경에서 벗어나기
# 장고 설치하기
# [1] 가상 환경인지 확인하기
# [2] 가상 환경에서 장고 설치하기
# [3] pip 최신 버전으로 설치하기
# 파이썬 가상 환경 알아보기
# 파이썬 가상 환경은 파이썬 프로젝트를 진행할 때 독립된 환경을 만들어 주는 고마운 도구다. 예를 들어 파이썬 개발자 A가
# 2개의 파이썬 프로젝트를 개발하고 관리한다고 가정하자. 파이썬 프로젝트를 각각 P-1, P-2라고 부르겠다. 이때 P-1, P-2에
# 필요한 파이썬 또는 파이썬 라이브러리의 버전이 다를 수 있다. 이를테면 P-1에는 파이썬 2.7 버전이, P-2에는 파이썬 3.8
# 버전이 필요할 수 있다. 이때 하나의 데스크톱에 서로 다른 버전의 파이썬을 설치해야 하는 문제가 생긴다.
# 이러한 개발 환경은 구축하기도 어렵고 사용하기도 힘들다. 가상 환경이 없던 예전에는 그런 고생을 감수할 수밖에 없었다.
# 하지만 파이썬 가상 환경을 이용하면 하나의 데스크톱 안에 독립된 가상 환경을 여러 개 만들 수 있다. 즉, 프로젝트 P-1을 
# 위해 가상 환경 V-1을 만들어 파이썬 2.7 버전을 설치하고, 프로젝트 P-2를 위해 가상 환경 V-2를 만들어 파이썬 3.8 버전을
# 설치해서 사용할 수 있다.
# 이처럼 가상 환경을 이용하면 하나의 데스크톱에 서로 다른 버전의 파이썬과 라이브러리를 쉽게 설치해 사용할 수 있다. 
# 물론 이 책에서는 '파이보'라는 하나의 프로젝트만 진행할 것이므로 가상 환경이 필수는 아니다. 하지만 앞으로 웹 프로그래밍을
# 계속하고 싶다면 가상 환경의 개념을 익히고 실제로 사용해 보는 것이 좋다.
# 파이썬 가상 환경 사용해 보기
# [1] 가상 환경 디렉터리 생성하기
# 윈도우에서 명령 프롬프트를 실행하고 다음 명령어를 입력해 C:/venvs라는 디렉터리를 만들자.
# 루트 디렉터리를 반드시 C:/venvs로 해야 하는 것은 아니지만 실습 편의를 위해 이대로 지정하자.
# [명령 프롬프트]
# C:\Users\pahkey> cd \
# C:\> mkdir venvs
# C:\> cd venvs
# [2] 가상 환경 만들기
# 파이썬 가상 환경을 만드는 다음 명령어를 입력해 실행하자.
# [명령 프롬프트]
# C:\venvs> python -m venv mysite
# 명령에서 python -m venv는 파이썬 모듈 중 venv라는 모듈을 사용한다는 의미다. 그 뒤의 mysite는 여러분이 생성할 가상 환경의
# 이름이다. 가상 환경의 이름을 반드시 mysite로 지을 필요는 없다. 만약 가상 환경의 이름을 awesomesite와 같이 지정했다면
# 책에 등장하는 mysite라는 가상 환경 이름을 awesomesite로 대체하여 읽으면 된다.
# 하지만 실습 진행의 편의를 위해 가상 환경 이름을 동일하게 하기를 권장한다.
# 명령을 잘 수행했다면 C:/venvs 디렉터리 아래에 mysite라는 디렉터리가 생성되었을 것이다. 이 디렉터리를 가상 환경이라 
# 생각하면 된다. 그런데 가상 환경을 만들었다 해서 바로 가상 환경을 사용할 수는 없다. 가상 환경을 사용하려면 가상 환경에
# 진입해야 한다.
# [3] 가상 환경에 진입하기
# 가상 환경에 진입하려면 우리가 생성한 mysite 가상 환경에 있는 Scripts 디렉터리의 activate 명령을 수행해야 한다.
# 다음 명령을 입력하여 mysite 가상 환경에 진입해 보자.
# [명령 프롬프트]
# C:\venvs>cd C:\venvs\mysite\Scripts
# C:\venvs\mysite\Scripts> activate
# (mysite) C:\venvs\mysite\Scripts>
# 그러면 C:/ 왼쪽에 (mysite)라는 프롬프트를 확인할 수 있다. 이름에서 볼 수 있듯 현재 여러분이 진입한 가상 환경을 의미한다.
# [4] 가상 환경에서 벗어나기
# 현재 진입한 가상 환경에서 벗어나려면 deactivate라는 명령을 실행하면 된다. 이 명령은 어느 위치에서 실행해도 상관없다.
# [명령 프롬프트]
# (mysite) C:\venvs\mysite\Scripts> deactivate
# 가상 환경에서 벗어났다면 C:/ 왼쪽에 있던 (mysite)라는 프롬프트가 사라졌을 것이다. 지금까지 가상 환경의 개념과 실습을 진행해 보았다.
# 가상 환경이라는 개념이 조금은 생소하겠지만 익혀 두면 여러분의 웹 프로그래밍 경험에 도움이 될 것이다.
# 장고 설치하기
# 드디어 장고를 설치할 차례가 왔다. 앞에서 만든 mysite 가상 환경에 장고를 설치해 보자.
# [1] 가상 환경인지 확인하기
# 명령 프롬프트 왼쪽에 (mysite) 프롬프트가 보이는지 확인하자. 만약 명령 프롬프트 왼쪽에 (mysite) 프롬프트가 보이지 않는다면
# 바로 이전의 실습을 참고하여 가상 환경에 진입한 상태에서 장고 설치를 진행하자.
# [명령 프롬프트]
# C:\venvs\mysite\Scripts> activate
# (mysite) C:\venvs\mysite\Scripts>
# [2] 가상 환경에서 장고 설치하기
# mysite 가상 환경에 진입한 상태에서 pip install django==3.1.3 명령을 입력하자. pip은 파이썬 라이브러리를 설치하고 관리해
# 주는 파이썬 도구이다. pip install django==3.1.3는 pip으로 장고 3.1.3 버전을 설치하는 명령이라고 생각하면 된다. 
# 다음 화면이 나오면 장고 설치가 잘 된 것이다.
# - 가상 환경 진입은 바로 이전 실습에서 공부했다.
# - pip은 '핍'이라 읽는다.
# [명령 프롬프트]
# (mysite) C:\venvs\mysite\Scripts> pip install django==3.1.3
# Collecting django
#   Using cached https://files.pythonhosted.org/packages/01/a5/fb3dad18422fcd4241d18460a1fe17542bfdeadcf74e3861d1a2dfc9e459/Django-3.1.3-py3-none-any.whl
# Collecting asgiref~=3.2.10 (from django)
#   Using cached https://files.pythonhosted.org/packages/d5/eb/64725b25f991010307fd18a9e0c1f0e6dff2f03622fc4bcbcdb2244f60d6/asgiref-3.2.10-py3-none-any.whl
# Collecting sqlparse>=0.2.2 (from django)
#   Using cached https://files.pythonhosted.org/packages/85/ee/6e821932f413a5c4b76be9c5936e313e4fc626b33f16e027866e1d60f588/sqlparse-0.3.1-py2.py3-none-any.whl
# Collecting pytz (from django)
#   Using cached https://files.pythonhosted.org/packages/4f/a4/879454d49688e2fad93e59d7d4efda580b783c745fd2ec2a3adf87b0808d/pytz-2020.1-py2.py3-none-any.whl
# Installing collected packages: asgiref, sqlparse, pytz, django
# Successfully installed asgiref-3.2.10 django-3.1.3 pytz-2020.1 sqlparse-0.3.1
# WARNING: You are using pip version 19.2.3, however version 20.2.3 is available.
# You should consider upgrading via the 'python -m pip install --upgrade pip' command.
# 그런데 마지막에 경고(WARNING) 문구가 보인다. pip이 최신 버전이 아니라는 내용이다.
# 개발자가 되고 싶다면 이런 경고 문구에 익숙해져야 한다.
# [3] pip 최신 버전으로 설치하기
# 경고 메시지에 따라 python -m pip install --upgrade pip 명령을 입력해 pip을 최신 버전으로 설치하자.
# [명령 프롬프트]
# (mysite) C:\venvs\mysite\Scripts> python -m pip install --upgrade pip
# Collecting pip
#   Downloading https://files.pythonhosted.org/packages/54/0c/d01aa759fdc501a58f431eb594a17495f15b88da142ce14b5845662c13f3/pip-20.0.2-py2.py3-none-any.whl (1.4MB)
#      |================================| 1.4MB 226kB/s
# Installing collected packages: pip
#   Found existing installation: pip 19.2.3
#     Uninstalling pip-19.2.3:
#       Successfully uninstalled pip-19.2.3
# Successfully installed pip-20.0.2

# [1-02 파이썬 설치하기]
# 앞에서 언급했듯 장고는 파이썬으로 만들어진 웹 프레임워크이다. 그래서 장고를 실행하기 위해서는 파이썬 설치가 필수이다.
# 파이썬은 파이썬 공식 홈페이지에서 설치 프로그램을 내려받아 설치하면 된다.
# 윈도우에서 파이썬 설치하기
# [1] 최신 파이썬 설치 파일 내려받기
# [2] 주의! 파이썬 설치 시 파이썬 경로 추가하기
# [3] 파이썬 설치 확인하기
# 윈도우에서 파이썬 설치하기
# [1] 최신 파이썬 설치 파일 내려받기
# 파이썬 공식 홈페이지에서 [Downloads] 메뉴를 누르고 윈도우용 파이썬 설치 파일을 내려받자. 다음 화면에서 <Python 3.8.x>을
# 누르면 된다. 참고로 이 책을 집필하는 시점의 파이썬 최신 버전은 3.8.5이다.
# 파이썬 공식 홈페이지 주소: www.python.org
# [2] 주의! 파이썬 설치 시 파이썬 경로 추가하기
# 방금 내려받은 설치 파일을 실행한다. 파이썬 설치 화면이 열리면 본격적으로 설치 작업을 하기 전에 반드시 아래쪽에 있는 
# <Add Python 3.8 to PATH> 옵션을 선택하자. 그다음 <Install Now>를 선택하면 바로 설치가 진행된다. 설치를 완료하면 
# <close>를 눌러 설치 프로그램을 종료한다.
# 파이썬이 설치된 경로를 시스템이 인식해야 명령 프롬프트 어느 위치에서나 python 명령을 실행할 수 있다. 그러나 많은 사람이
# 경로 추가 옵션을 선택하지 않아 오류가 발생한다. <Add Python 3.8 to PATH> 옵션을 체크했는지 반드시 확인하고 설치하기
# 바란다.
# [3] 파이썬 설치 확인하기
# 파이썬이 제대로 설치됐는지 확인하기 위해 명령 프롬프트를 열자. 윈도우 작업 표시줄에 있는 검색란에 cmd를 입력 후
# <Enter> 를 누르자. 명령 프롬프트가 열리면 다음 명령을 입력해 자신의 컴퓨터에 설치된 파이썬 버전을 확인해 보자. 
# 오류 없이 파이썬 버전이 제대로 출력되면 설치에 성공한 것이다.
# [명령 프롬프트]
# C:\Users\pahkey> python -V
# Python 3.8.5
# 만약 명령어를 제대로 입력했는데도 파이썬 버전이 나타나지 않고 '찾을 수 없는 명령'이라는 오류 메시지가 출력된다면 
# 앞의 설치 과정에서 경로 설정에 문제가 있을 가능성이 크다. 이때는 1단계에서 내려받은 설치 파일을 다시 실행해 
# <Uninstall>을 눌러 삭제한 후 2단계부터 다시 설치하자.

# [1-01 필자가 생각하는 장고란?]
# 장고 홈페이지에 가 보면 가장 먼저 다음과 같은 로고를 볼 수 있다.
# The web framework for perfectionists with deadlines. (마감에 쫓기는 완벽주의자를 위한 웹 프레임워크)
# 필자는 로고에 쓰여 있는 이 문구가 장고를 정말 잘 표현하는 슬로건이라 생각한다. 이 말은 '장고를 사용하면 웹 프로그램을
# 마감에 쫓기지 않을 정도로 빠르게 만들 수 있으면서도 완성도가 완벽에 가깝다' 정도로 해석할 수 있을 것 같다. 장고를 사용해
# 본 적이 없거나 웹 프로그래밍이 처음인 사람에게는 허황된 말처럼 들릴 수도 있을 것이다. 하지만 이 말만큼은 10년 이상 
# 장고를 사용한 필자의 말을 믿어 주면 좋겠다. 그러면 장고의 특징과 장점은 무엇일까?
# 장고는 웹 프로그램을 쉽고 빠르게 만들 수 있도록 도와주는 웹 프레임워크이다. 웹 프레임워크라는 표현을 처음 듣는 사람을 
# 위해 잠시 웹 프레임워크를 설명해 보겠다.
# 웹 프레임워크란?
# 웹 프로그램을 만들어 본 경험이 있는가? 만약 그런 경험이 있다면 웹 프로그램을 위해 얼마 나 많은 기능을 만들어야 하는지 
# 잘 알고 있을 것이다.
# 예를 들어 쿠키나 세션 처리, 로그인/로그아웃 처리, 권한 처리, 데이터베이스 처리 등 웹 프로그램을 위해 만들어야 할 기능이
# 정말 산더미처럼 많다. 하지만 웹 프레임워크를 사용하면 이런 기능들을 여러분이 일일이 만들 필요가 없다. 왜냐하면 웹 
# 프레임워크에는 그런 기능들이 이미 만들어져 있기 때문이다. 그저 웹 프레임워크에 있는 기능을 익혀서 사용하기만 하면 된다. 
# 쉽게 말해 웹 프레임워크는 웹 프로그램을 만들기 위한 스타터 키트라고 생각하면 된다. 그리고 파이썬으로 만들어진 웹
# 프레임워크 중 하나가 바로 장고이다.
# 얼마나 빨리 만들 수 있나?
# 장고의 몇 가지 규칙만 익히면 누구나 빠르게 웹 프로그램을 만들 수 있다. 웹 브라우저에 'Hello World'를 출력하려면 장고가
# 요구하는 간단한 url 규칙을 정의하고 다음과 같은 함수 하나만 작성하면 된다.
# [장고의 빠른 개발 속도를 보여 주는 예]
# def index(request):
#     return HttpResponse("Hello World")
# 장고는 튼튼한 웹 프레임워크이다
# 개발자가 웹 프로그램을 만들 때 가장 어렵게 느끼는 기능 중 하나는 바로 보안 기능이다. 이 세상에는 기상천외한 방법으로
# 웹 사이트를 괴롭히는 사람들이 있다. 이런 공격에 개발자 홀로 신속하게 대응하기는 무척 어려운 일이다. 하지만 걱정하지 마라.
# 장고는 이런 보안 공격을 기본으로 아주 잘 막아 준다. 그만큼 장고는 튼튼한 웹 프레임워크다. 예를 들어 SQL 인젝션, 
# XSS(cross-site scripting), CSRF(cross-site request forgery), 클릭재킹(clickjacking)과 같은 보안 공격을 기본으로 막아 준다.
# 즉, 장고를 사용하면 이런 보안 공격에 대한 코드를 여러분이 짤 필요가 없다.
# - SQL 인젝션은 악의적인 SQL을 주입하여 공격하는 방법이다.
# - XSS는 자바스크립트를 삽입해 공격하는 방법이다.
# - CSRF는 위조된 요청을 보내는 공격 방법이다.
# - 클릭재킹은 사용자의 의도하지 않은 클릭을 유도하는 공격 방법이다.
# 장고에는 여러 기능이 준비되어 있다
# 장고는 2005년에 등장하여 10년 이상의 세월을 감내한 베테랑 웹 프레임워크이다. 그동안 정말 무수히 많은 기능이 추가되고 또
# 다듬어졌다. 혹시 로그인 기능을 원하는가? 관리자 기능을 원하는가? 이미 장고에 있다. 이미 있을 뿐 아니라 너무나도 잘 
# 만들어져 있다. 한마디로 장고에는 여러분이 필요로 하는 웹 프로그램 개발을 위한 도구와 기능이 대부분 준비되어 있다.
# 필자는 장고를 공부할 여러분에게 '이미 만들어져 있는 기능을 새로 만드느라 애써 고생하지 말라'는 이야기를 꼭 해 주고 싶다.
# 장고는 재미있다
# 장고로 웹 프로그램을 만드는 것이 게임을 하는 것보다 재밌다고 하면 믿겠는가? 약간 과장이긴 하지만 무언가에 홀린 듯이
# 코딩을 하고 있는 필자 자신을 발견할 때가 있었는데, 그때가 바로 장고로 웹 프로그램을 만들고 있을 때였다. 정말이니
# 의심하지 말고 지금 당장 장고로 웹 프로그래밍을 시작해 보자.



# [0장 들어가기 전에]

# [0-01 머리말]
# 《Do it! 점프 투 파이썬》으로 파이썬 기초를 공부한 많은 사람들이 "이제 무엇을 공부해야 할까요?", "파이썬으로 무엇을 해볼 수 있나요?"와
# 같은 질문을 많이 한다. 그래서《Do it! 점프 투 장고》를 준비했다.
# 프로그래머로서 파이썬을 더 능숙하게 다루고 싶다면 이 책을!
# 파이썬을 공부하는 방법은 무척 다양하지만 필자는 웹 프로그래밍을 추천한다. 
# 보통 '웹 프로그래밍'이라 하면 사이트나 게시판 만들기를 생각하기 쉽다.
# 웹 프로그래밍은 웹 사이트 개발 외에도 게임이나 인공지능 분야에도 적용할 수 있으므로 한번 공부해 두면 여러분의 미래에 큰
# 도움이 될 것이다. 물론 웹 프로그래밍은 웹 개념, 데이터베이스, 모델링, 네트워크, 서버 등 관련 지식을 많이 배워야 하고, 
# 또 이런 지식이 어떻게 조합되어 동작하는지도 알아야 하므로 짧은 시간에 습득하기란 쉽지 않다. 그렇지만 웹 프로그래밍을 
# 공부한다면 분명 많은 프로그래밍 지식을 얻을 수 있을 것이다.



# [서론]
# "점프 투 장고"는 "파이보"라는 이름의 파이썬 게시판(Python Board) 서비스를 만들어가는 과정을 설명한 장고 입문서이다. 
# 파이썬 설치부터 시작하여 서비스 운영까지 웹 프로그래밍의 처음부터 끝까지 모든 것을 알 수 있도록 구성하였다.
# 이 책을 따라하다 보면 다음과 같은 웹 사이트가 만들어진다. (최종 결과물)
# http://django.pybo.kr
# 필자는 2008년부터 장고(Django)를 사용해 왔다. 필자가 운영하고 있는 위키독스(wikidocs.net)와 코딩도장(codingdojang.com)이 
# 바로 장고로 만들어진 웹 서비스이다. 오랜기간 장고를 운영하며 알게 된 지식과 경험들을 이 책을 통해 공유할 수 있도록
# 노력하였다.
# 책을 따라하다 생기는 질문은 파이보의 완성형인 아래사이트를 활용하도록 하자.
# 파이보 (파이썬 질문과 답변 게시판) - https://pybo.kr